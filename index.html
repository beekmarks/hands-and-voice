<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fidelity WebMCP+AG-UI POC</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <div class="concept-flow-connector">
            <div class="flow-arrow">
                <span class="flow-text">Hands Execute</span>
                <div class="arrow">‚Üí</div>
                <span class="flow-text">Voice Reports</span>
            </div>
        </div>
        <div class="fidelity-app-container">
            <div class="concept-header webmcp-hands">
                <div class="concept-icon">ü§≤</div>
                <div class="concept-info">
                    <h1>Fidelity Retirement Planner</h1>
                    <div class="concept-subtitle">WebMCP "Hands" - AI Actions & Tool Execution</div>
                </div>
            </div>
            <div id="fidelity-app">
                </div>
        </div>
        <div class="agent-container">
            <div class="concept-header agui-voice">
                <div class="concept-icon">üó£Ô∏è</div>
                <div class="concept-info">
                    <h1>Agent Assistant</h1>
                    <div class="concept-subtitle">AG-UI "Voice" - AI Communication & Transparency</div>
                </div>
            </div>
            <div class="api-config">
                <div class="config-header">
                    <h3>ü§ñ LLM Configuration</h3>
                    <span class="status-indicator" id="llm-status">Using Keyword Matching</span>
                </div>
                <div class="config-content">
                    <form>
                        <input type="password" id="openai-key" placeholder="Enter OpenAI API Key (optional)">
                        <button type="button" id="configure-llm">Enable Real LLM</button>
                        <button type="button" id="clear-llm" style="display: none;">Use Keyword Matching</button>
                    </form>
                </div>
                <div class="config-warning">
                    <small>‚ö†Ô∏è API key is stored locally and never sent to our servers</small>
                </div>
            </div>
            <div id="agent-ui">
                <div class="voice-section">
                    <div class="voice-header">
                        <span class="voice-icon">üéôÔ∏è</span>
                        <h3>AG-UI Protocol Events (The Voice)</h3>
                        <div class="voice-description">Real-time transparency into AI thinking</div>
                    </div>
                    <div class="agent-thought-process"></div>
                </div>
                <div class="agent-chat">
                    <div class="chat-header">
                        <span class="chat-icon">üí¨</span>
                        <h3>Conversation (Human-AI Dialog)</h3>
                        <div class="chat-description">Clean conversation powered by the Voice</div>
                    </div>
                    <div class="messages"></div>
                    <div class="concept-explainer">
                        <div class="explainer-toggle" id="concept-help">
                            üí° Understanding Hands vs Voice
                        </div>
                        <div class="explainer-content" id="explainer-content">
                            <div class="explainer-section">
                                <h4>ü§≤ WebMCP "Hands" (Left Panel)</h4>
                                <p>The <strong>Hands</strong> represent AI action and execution. When you make a request, WebMCP tools are the AI's way of directly interacting with the application - rebalancing portfolios, calculating projections, retrieving data.</p>
                            </div>
                            <div class="explainer-section">
                                <h4>üó£Ô∏è AG-UI "Voice" (Right Panel)</h4>
                                <p>The <strong>Voice</strong> represents AI transparency and communication. AG-UI events show you exactly what the AI is thinking and doing in real-time - every tool call, every decision, every step.</p>
                            </div>
                            <div class="explainer-flow">
                                <strong>Flow:</strong> Your Request ‚Üí Hands Execute ‚Üí Voice Reports ‚Üí You See Results
                            </div>
                        </div>
                    </div>
                    <div class="example-prompts">
                        <p><strong>Try these examples:</strong></p>
                        <button class="example-btn" data-prompt="Show me my portfolio">üìä Show Portfolio</button>
                        <button class="example-btn" data-prompt="Make my portfolio more aggressive">üöÄ More Aggressive</button>
                        <button class="example-btn" data-prompt="Rebalance to conservative strategy">üõ°Ô∏è Conservative</button>
                        <button class="example-btn" data-prompt="Show retirement projection for 25 years">üèñÔ∏è Retirement Plan</button>
                    </div>
                    <div class="input-area">
                        <input type="text" id="user-prompt" placeholder="Enter your command (e.g., 'show my portfolio', 'make it more aggressive')...">
                        <button id="send-prompt">Send</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/ag-ui-client.js"></script>
    <script src="js/webmcp-provider.js"></script>
    <script src="js/fidelity-app.js"></script>
    <script src="js/llm-client.js"></script>
    <script src="js/agent-client.js"></script>
    <script src="js/main.js"></script>
</body>
</html>